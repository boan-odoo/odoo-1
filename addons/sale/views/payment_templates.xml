<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Include sale-related values in payment checkout form to pass them to the client -->
    <template id="payment_checkout_inherit" inherit_id="payment.checkout">
        <xpath expr="//form[@name='o_payment_checkout']" position="attributes">
            <attribute name="t-att-data-sale-order-id">sale_order_id</attribute>
        </xpath>
        <xpath expr="//t[@t-set='tokenization_required']" position="attributes">
            <attribute name="t-value">
                acquirer._is_tokenization_required(provider=acquirer.provider, sale_order_id=sale_order_id)
            </attribute>
        </xpath>
    </template>

    <!-- Include sale-related values in payment manage form to pass them to the client -->
    <template id="payment_manage_inherit" inherit_id="payment.manage">
        <xpath expr="//form[@name='o_payment_manage']" position="attributes">
            <attribute name="t-att-data-sale-order-id">sale_order_id</attribute>
        </xpath>
    </template>

</odoo>
