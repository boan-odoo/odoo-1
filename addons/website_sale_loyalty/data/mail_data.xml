<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="mail_template_card_info" model="mail.template">
            <field name="name">Gift Card Info</field>
            <field name="model_id" ref="website_sale_loyalty.model_loyalty_website_redeemed_reward" />
            <field name="lang">{{ object.partner_id.lang }}</field>
        </record>
    </data>

    <template id="website_sale_loyalty.card_info_mail_body" name="Gift card info mail">
        <table border="0" cellpadding="0" style="background-color: white; padding: 0px; border-collapse:separate;">
            <tr style="height: 48px;"><td valign="top"><span style="font-size: 24px; font-weight: bold;">
                Gift Card Information
            </span></td></tr>
            <tr><td valign="top">
                Dear <t t-out="reward.partner_id.name"/>,
            </td></tr>
            <tr><td valign="top">
                <div style="margin: 16px 0px 16px 0px;">
                    You just exchanged <span t-field="reward.point_used" t-options="{'widget': 'integer' if reward.point_used.is_integer() else 'float'}"/> loyalty points for a gift card.
                    <br/>
                    You can find all details in the table below.
                    <br/>
                    Regards.
                </div>
            </td></tr>
            <tr><td valign="top">
                <div style="margin: 16px 0px 16px 0px;">
                    <table border="0" cellpadding="0" cellspacing="5" width="100%">
                        <tr>
                            <td><b>Redeemed Date:</b></td>
                            <td><span t-out="reward.create_date.date()"/></td>
                        </tr>
                        <tr>
                            <td><b>Loyalty Points Spent:</b></td>
                            <td><span t-field="reward.point_used" t-options="{'widget': 'integer' if reward.point_used.is_integer() else 'float'}"/></td>
                        </tr>
                        <tr>
                            <td><b>Gift Card Code:</b></td>
                            <td><span t-out="reward.gift_card_id.code"/></td>
                        </tr>
                        <tr>
                            <td><b>Initial Amount on Gift Card(<t t-out="reward.gift_card_id.currency_id.symbol"/>):</b></td>
                            <td><span t-out="reward.gift_card_id.initial_amount"/></td>
                        </tr>
                        <tr>
                            <td><b>Gift Card is valid until:</b></td>
                            <td><span t-out="reward.gift_card_id.expired_date"/></td>
                        </tr>
                    </table>
                </div>
            </td></tr>
        </table>
    </template>
</odoo>
