<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="generic_tax_report" model="account.report">
            <field name="name">Generic Tax report</field>
            <field name="filter_multi_company" eval="True"/>
            <field name="columns">'NET', 'TAX'</field> <!--TODO OCO chiant: en master on met NET + nom du mois et année ... On veut garder ça ?-->
            <field name="dynamic_lines_generator">_generic_tax_report_default_grouping</field> <!--TODO OCO pareil: ça, c'est à ajouter en enterprise. Le champ aussi ?-->
            <!--TODO OCO fiscal_position à voir-->
        </record>

        <!--TODO OCO TEST 1-->
        <record id="oco_test_line_1" model="account.report.line">
            <field name="name">test line 1</field>
            <field name="report_id" ref="generic_tax_report"/>
            <!--TODO OCO pour les vrais cas comme ceci, on a un souci: la fonction est en enterprise: donc soit on la déclare qui retourne 0 en community, soit on l'ajoute là-bas...
            Ou bien on la met aussi en community ? Ca fait quand même bcp, là ...
            ==> Ou bien on s'en tape parce qu'ici c'est juste le string ?
             -->
            <field name="expression_ids" eval="[
                (0, 0, {'total': 'main', 'engine': 'custom', 'formula': '_tax_report_engine_generic', 'subformula': 'sales.tax','date_scope': 'test'}),
                (0, 0, {'total': 'forty_two', 'engine': 'custom', 'formula': 'test_oco_always_42', 'date_scope': 'test'}),
            ]"/>
            <!--TODO OCO pour le control, on pourrait du coup mettre control_main, control_opt, ... EASY-->
            <field name="column_values">main, forty_two</field>
            <field name="sequence">1</field>
        </record>

        <record id="generic_tax_report2" model="account.report"> <!--TODO OCO TEST-->
            <field name="name">Generic Tax report 2 (test)</field>
            <field name="filter_multi_company" eval="True"/>
            <field name="columns">'NET2', 'TAX2'</field>
            <field name="dynamic_lines_generator">_generic_tax_report_default_grouping</field>
            <field name="root_report_id" ref="generic_tax_report"/>
            <field name="allow_showing_draft" eval="False"/>
        </record>

        <record id="generic_tax_report_account_tax" model="account.report">
            <field name="name">Group by: Account &gt; Tax </field>
            <field name="filter_multi_company" eval="True"/>
            <field name="columns">'NET', 'TAX'</field> <!--TODO OCO-->
            <field name="dynamic_lines_generator">_generic_tax_report_account_tax_grouping</field>
            <field name="root_report_id" ref="generic_tax_report"/>
            <field name="allow_showing_draft" eval="False"/>
        </record>

        <record id="generic_tax_report_tax_account" model="account.report">
            <field name="name">Group by: Tax &gt; Account </field>
            <field name="filter_multi_company" eval="True"/>
            <field name="columns">'NET', 'TAX'</field> <!--TODO OCO-->
            <field name="dynamic_lines_generator">_generic_tax_report_tax_account_grouping</field>
            <field name="root_report_id" ref="generic_tax_report"/>
        </record>

    </data>
</odoo>
