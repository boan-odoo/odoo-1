<?xml version="1.0" encoding="UTF-8"?>

<templates>

    <t t-name="website_sale_stock.product_availability">
        <t t-if="product_type == 'product' and _.contains(['always', 'threshold'], inventory_availability)">
<!-- Quantity Information -->
            <div t-if="availability_information == 'quantity'" t-attf-class="availability_message_#{product_template} text-success mt16">
                <t t-esc="qty_available_formatted" /> <t t-esc="uom_name" /> 
                    available
            </div>
<!-- State Information -->
            <t t-if="availability_information == 'state'">
    <!-- Always Show -->
                <t t-if="inventory_availability == 'always'">
                    <div t-if="qty_available gt 0" t-attf-class="availability_message_#{product_template} text-success mt16">
                        In stock
                    </div>
                    <div t-if="!cart_qty and qty_available lte 0" t-attf-class="availability_message_#{product_template} text-danger mt16">
                        <i class="fa fa-exclamation-triangle" role="img" aria-label="Warning" title="Warning"/> 
                            Temporarily out of stock
                    </div>
                </t>
    <!-- Threshold Show -->
                <t t-if="inventory_availability == 'threshold' and qty_available lt available_threshold">
                    <div t-if="qty_available gt 0" t-attf-class="availability_message_#{product_template} text-warning mt16">
                        <i class="fa fa-exclamation-triangle" title="Warning" role="img" aria-label="Warning"/>
                        <t t-esc="qty_available_formatted" /> <t t-esc="uom_name" /> 
                            available
                    </div>
                    <div t-if="!cart_qty and qty_available lte 0" t-attf-class="availability_message_#{product_template} text-danger mt16">
                        <i class="fa fa-exclamation-triangle" role="img" aria-label="Warning" title="Warning"/> 
                            Temporarily out of stock
                    </div>
                </t>
            </t>
<!-- Custom Information -->
            <div t-if="availability_information == 'custom'" t-attf-class="availability_message_#{product_template} text-success mt16">
                <t t-esc="custom_message" />
            </div>
        </t>    
    </t>

</templates>
