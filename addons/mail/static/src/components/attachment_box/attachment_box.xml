<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.AttachmentBox" owl="1">
        <div class="o_AttachmentBox px-3 position-relative">
            <div class="o_AttachmentBox_title d-flex align-items-center my-4">
                <div class="o_AttachmentBox_dashedLine flex-grow-1"/>
                <span class="o_AttachmentBox_titleText mx-3 font-weight-bold">
                    Attachments
                </span>
                <div class="o_AttachmentBox_dashedLine flex-grow-1"/>
            </div>
            <div class="o_AttachmentBox_content d-flex flex-column">
                <t t-if="isDropZoneVisible.value">
                    <DropZone
                        class="o_AttachmentBox_dropZone"
                        t-on-o-dropzone-files-dropped="_onDropZoneFilesDropped"
                        t-ref="dropzone"
                    />
                </t>
                <t t-if="thread and thread.allAttachments.length > 0">
                    <AttachmentList
                        class="o_attachmentBox_attachmentList"
                        areAttachmentsDownloadable="true"
                        attachmentLocalIds="thread.allAttachments.map(attachment => attachment.localId)"
                        attachmentsDetailsMode="'hover'"
                        attachmentsImageSize="'small'"
                        showAttachmentsFilenames="true"
                        t-on-o-attachment-removed="_onAttachmentRemoved"
                    />
                </t>
                <button class="o_AttachmentBox_buttonAdd btn btn-link align-self-center" type="button" t-on-click="_onClickAdd">
                    <i class="fa fa-plus-square"/>
                    Add attachments
                </button>
            </div>
            <t t-if="thread">
                <FileUploader
                    attachmentLocalIds="thread.allAttachments.map(attachment => attachment.localId)"
                    newAttachmentExtraData="newAttachmentExtraData"
                    uploadModel="thread.model"
                    uploadId="thread.id"
                    t-on-o-attachment-created="_onAttachmentCreated"
                    t-ref="fileUploader"
                />
            </t>
        </div>
    </t>

</templates>
