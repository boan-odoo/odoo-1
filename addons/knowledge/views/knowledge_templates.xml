<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <!-- Article Tree layout -->
    <template id="knowledge_article_tree_template" name="Article Tree">
        <div class="o_tree_favorite">
            <div class="h4 mb-0">Favourites</div>
            <ul t-if="favourites" class="o_tree">
                <li t-foreach="favourites" t-as="favourite">
                    <span t-out="favourite.name"/>
                </li>
            </ul>
            <div t-else="" class="px-0 py-2">No favourite yet</div>
        </div>

        <div class="o_tree_workspace">
            <div class="h4 mb-0">Workspace</div>
            <ul class="o_tree m-0 px-0 py-2">
                <t t-foreach="public_articles.sorted('sequence')" t-as="child">
                    <t t-call="knowledge.article_template">
                        <t t-set="article" t-value="child"/>
                    </t>
                </t>
            </ul>
        </div>

        <div class="o_tree_private" t-if="private_articles">
            <div class="h4 mb-0">Private</div>
            <ul class="o_tree m-0 px-0 py-2">
                <t t-foreach="private_articles.sorted('sequence')" t-as="child">
                    <t t-call="knowledge.article_template">
                        <t t-set="article" t-value="child"/>
                    </t>
                </t>
            </ul>
        </div>
    </template>

    <template id="article_template">
        <li t-attf-id="article_#{article.id}" class="article" t-att-data-article-id="article.id">
            <div class="d-flex">
                <i class="fa fa-fw fa-caret-down align-self-center"/>
                <span t-out="article.name"/>
            </div>
            <ul t-if="article.child_ids">
                <t t-foreach="article.child_ids.sorted('sequence')" t-as="child">
                    <t t-call="knowledge.article_template">
                        <t t-set="article" t-value="child"/>
                    </t>
                </t>
            </ul>
        </li>
    </template>
</data>
</odoo>
